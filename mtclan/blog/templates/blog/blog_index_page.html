{% extends "base.html" %}

{% load wagtailcore_tags %}

{% block body_class %}template-blogindexpage{% endblock %}

{% block content %}
<section>
    <header class="navbar">
        <div class="container">
            <div class="navbar-brand">
                <a class="navbar-item">
                </a>
                <span class="navbar-burger burger" data-target="navbarMenuHeroC">
                <span></span>
                <span></span>
                <span></span>
                </span>
            </div>
            <div id="navbarMenuHeroC" class="navbar-menu">
                <div class="navbar-end">
                <a class="navbar-item" href="/">
                    Home
                </a>
                <a class="navbar-item is-active" href="/blogs">
                    Blog
                </a>
                <a class="navbar-item">
                    Software
                </a>
                </div>
            </div>
        </div>
    </header>
</section>
<section class="section">
    <div class="container">
        <div class="columns">
            <div class="column is-two-thirds is-offset-2">
                <h1 class="title is-size-1 has-text-centered">{{ page.title }}</h1>

                <div class="subtitle is-size-3 has-text-weight-light has-text-centered">{{ page.intro|richtext }}</div>
                <br>

                {% for post in page.get_children %}
                <div class="box">
                    <div class="media">
                        <div class="media-left">
                            <figure class="image is-96x96">
                                <img src="https://bulma.io/images/placeholders/96x96.png" alt="Placeholder image">
                            </figure>
                        </div>
                        <div class="media-content">
                            <p class="is-size-5">เขียนเมื่อวันที่ {{ post.specific.date }}</p>
                        </div>
                    </div>
                    <hr>
                    <h2 class="title is-size-3"><a href="{% pageurl post %}">
                        {{ post.title }}</a>
                    </h2>
                    <p class="subtitle is-size-4 has-text-weight-light">{{ post.specific.intro }}</p>
                    <div class="is-size-5">
                    {{ post.specific.body|richtext|truncatewords_html:100 }}
                    <a href="{% pageurl post  %}">อ่านต่อ</a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
    $(document).ready(function() {

        // Check for click events on the navbar burger icon
        $(".navbar-burger").click(function() {
    
            // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
            $(".navbar-burger").toggleClass("is-active");
            $(".navbar-menu").toggleClass("is-active");
    
        });
    });
</script>
{% endblock extra_js %}